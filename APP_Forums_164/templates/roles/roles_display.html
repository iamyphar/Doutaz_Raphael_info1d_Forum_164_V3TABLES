{% extends "base.html" %}
{% block title %} Rôles {% endblock %}
{% block body %}
    <div class="container py-5">
        <div class="d-sm-flex justify-content-between align-items-center">
            <h1>Rôles</h1>
            <div><a class="btn btn-primary" href="{{ url_for('role_add') }}" role="button">Ajouter</a></div>
        </div>
        <table class="table table-bordered table-sm">
            {% if data %}
                <thead>
                <tr>
                    <th class="align-middle">
                        ID
                    </th>
                    <th class="align-middle">
                        Nom
                    </th>
                    <th class="align-middle">

                    </th>
                    <th class="align-middle">

                    </th>
                </tr>
                </thead>
            {% endif %}

            {% for row in data %}
                <tbody>
                <tr>
                    <td class="align-middle">
                        {{ row.id_role }}
                    </td>
                    <td class="align-middle">
                        {{ row.name_role }}
                    </td>
                    <td class="text-center" class="align-middle">
                        <a class="btn btn-warning" href="{{ url_for('role_update', id_role=row.id_role) }}"
                           role="button">Modifier</a>
                    </td>
                    <td class="text-center" class="align-middle">
                        <a class="btn btn-danger" href="{{ url_for('role_delete', id_role=row.id_role) }}"
                           role="button">Supprimer</a>
                    </td>
                    <tr>
                        <td class="align-middle text-center">
                            <a class="btn btn-warning" href="{{ url_for('update_perms_role_have', id_role=row.id_role) }}"
                               role="button">Modifier les permissions</a>
                        </td>
                        <td class="align-middle" colspan="3">
                            {{ row.name_perm|default("PAS DE PERMISSION", True) }}
                        </td>
                    </tr>
                </tr>
                </tbody>
            {% else %}
                <h4>Aucun rôle.</h4>
            {% endfor %}
        </table>
    </div>
{% endblock %}

